<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>strafelib: strafelib.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">strafelib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">strafelib.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cmath&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for strafelib.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="strafelib_8hpp__incl.png" border="0" usemap="#strafelib_8hpp" alt=""/></div>
<map name="strafelib_8hpp" id="strafelib_8hpp">
</map>
</div>
</div>
<p><a href="strafelib_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a346c04d3e9d8299ca29b38295d17167a"><td class="memTemplParams" colspan="2">template&lt;int N&gt; </td></tr>
<tr class="memitem:a346c04d3e9d8299ca29b38295d17167a"><td class="memTemplItemLeft" align="right" valign="top">double&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a346c04d3e9d8299ca29b38295d17167a">dot_product</a> (const double *__restrict a, const double *__restrict b)</td></tr>
<tr class="separator:a346c04d3e9d8299ca29b38295d17167a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29d260cd4d50532c6b98d59e993f288"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#ab29d260cd4d50532c6b98d59e993f288">fric_speed</a> (double speed, double E, double tau_k)</td></tr>
<tr class="separator:ab29d260cd4d50532c6b98d59e993f288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b89291bba4c15feba3010e15958ebbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a4b89291bba4c15feba3010e15958ebbc">fric_vel</a> (double *__restrict vel, double speed, double E, double tau_k)</td></tr>
<tr class="separator:a4b89291bba4c15feba3010e15958ebbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6fc61b71ff872e308f8a6b10fa1f882"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#ad6fc61b71ff872e308f8a6b10fa1f882">fric_speedsq</a> (double speedsq, double E, double tau_k)</td></tr>
<tr class="separator:ad6fc61b71ff872e308f8a6b10fa1f882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90821166115cfa378f636b0ed5c6a84a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a90821166115cfa378f636b0ed5c6a84a">fme_speed</a> (double speed, double costheta, double L, double ke_tau_M_A)</td></tr>
<tr class="separator:a90821166115cfa378f636b0ed5c6a84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a991ad6d0488062ce19b32b06c940c472"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a991ad6d0488062ce19b32b06c940c472">fme_vel_theta</a> (double *__restrict vel, double speed, double costheta, double sintheta, double L, double ke_tau_M_A)</td></tr>
<tr class="separator:a991ad6d0488062ce19b32b06c940c472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6c7d9e175075d20e9ed357a472d905"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a5b6c7d9e175075d20e9ed357a472d905">fme_maxaccel_cossin_theta</a> (double speed, double L, double ke_tau_M_A, double *__restrict costheta, double *__restrict sintheta)</td></tr>
<tr class="separator:a5b6c7d9e175075d20e9ed357a472d905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af403663e3b75d00c895ea6ae7010083f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#af403663e3b75d00c895ea6ae7010083f">fme_maxaccel_speed</a> (double speed, double L, double ke_tau_M_A)</td></tr>
<tr class="separator:af403663e3b75d00c895ea6ae7010083f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d4b9ddd8360ba2c93b9ed5a98dd8fa"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a53d4b9ddd8360ba2c93b9ed5a98dd8fa">fme_maxaccel_speed_C</a> (double speedsq, double L, double ke_tau_M_A)</td></tr>
<tr class="separator:a53d4b9ddd8360ba2c93b9ed5a98dd8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0a8e20096eeabb0303b26040d3775ba"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#ae0a8e20096eeabb0303b26040d3775ba">fme_minaccel_speed</a> (double speed, double L, double ke_tau_M_A)</td></tr>
<tr class="separator:ae0a8e20096eeabb0303b26040d3775ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e77b0a9b92b6bee047791dfb9cd93e5"><td class="memTemplParams" colspan="2">template&lt;int N&gt; </td></tr>
<tr class="memitem:a5e77b0a9b92b6bee047791dfb9cd93e5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a5e77b0a9b92b6bee047791dfb9cd93e5">collision_vel</a> (double *__restrict v, const double *__restrict n, double b)</td></tr>
<tr class="separator:a5e77b0a9b92b6bee047791dfb9cd93e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1322ada9557ecd91fd1e8dee7e49d04e"><td class="memTemplParams" colspan="2">template&lt;int N&gt; </td></tr>
<tr class="memitem:a1322ada9557ecd91fd1e8dee7e49d04e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a1322ada9557ecd91fd1e8dee7e49d04e">snark_hunt_vel</a> (double *__restrict v, const double *__restrict dir)</td></tr>
<tr class="separator:a1322ada9557ecd91fd1e8dee7e49d04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bc873ecf594b45e43a7edb3c239467"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a87bc873ecf594b45e43a7edb3c239467">tau_g_to_p</a> (double tau_g)</td></tr>
<tr class="separator:a87bc873ecf594b45e43a7edb3c239467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2af891d7cfeaa267a6e776d104e11c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#a3a2af891d7cfeaa267a6e776d104e11c">water_vel</a> (double *__restrict v, double speed, const double *__restrict a, double geomfric, double M, double ke_tau_M_A)</td></tr>
<tr class="separator:a3a2af891d7cfeaa267a6e776d104e11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acc0d672272307e8767fc14c22c7ace3f"><td class="memItemLeft" align="right" valign="top"><a id="acc0d672272307e8767fc14c22c7ace3f"></a>
constexpr const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strafelib_8hpp.html#acc0d672272307e8767fc14c22c7ace3f">JUMP_SPEED</a> = 268.3281572999748</td></tr>
<tr class="memdesc:acc0d672272307e8767fc14c22c7ace3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The initial jumping speed, before gravity is applied. <br /></td></tr>
<tr class="separator:acc0d672272307e8767fc14c22c7ace3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5e77b0a9b92b6bee047791dfb9cd93e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e77b0a9b92b6bee047791dfb9cd93e5">&#9670;&nbsp;</a></span>collision_vel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int N&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void collision_vel </td>
          <td>(</td>
          <td class="paramtype">double *__restrict&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *__restrict&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the velocity after colliding with a hyperplane.</p>
<p>The caller is responsible of ensuring <code>n</code> is a unit vector. </p>

</div>
</div>
<a id="a346c04d3e9d8299ca29b38295d17167a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a346c04d3e9d8299ca29b38295d17167a">&#9670;&nbsp;</a></span>dot_product()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int N&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double dot_product </td>
          <td>(</td>
          <td class="paramtype">const double *__restrict&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *__restrict&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the dot product of two vectors. </p>

</div>
</div>
<a id="a5b6c7d9e175075d20e9ed357a472d905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6c7d9e175075d20e9ed357a472d905">&#9670;&nbsp;</a></span>fme_maxaccel_cossin_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fme_maxaccel_cossin_theta </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ke_tau_M_A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *__restrict&#160;</td>
          <td class="paramname"><em>costheta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *__restrict&#160;</td>
          <td class="paramname"><em>sintheta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the \(\cos\theta\) for maximum acceleration.</p>
<p>There is no point accepting a squared speed, because the very common zeta strafing case requires computing a square root anyway. </p>

</div>
</div>
<a id="af403663e3b75d00c895ea6ae7010083f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af403663e3b75d00c895ea6ae7010083f">&#9670;&nbsp;</a></span>fme_maxaccel_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double fme_maxaccel_speed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ke_tau_M_A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the speed after applying the FME at maximum acceleration.</p>
<p>This function is easier to use than <a class="el" href="strafelib_8hpp.html#a53d4b9ddd8360ba2c93b9ed5a98dd8fa">fme_maxaccel_speed_C()</a>, but much less performant for the common cases of zeta and 90 degrees strafing, due to the need to compute a square root. </p>

</div>
</div>
<a id="a53d4b9ddd8360ba2c93b9ed5a98dd8fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d4b9ddd8360ba2c93b9ed5a98dd8fa">&#9670;&nbsp;</a></span>fme_maxaccel_speed_C()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double fme_maxaccel_speed_C </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speedsq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ke_tau_M_A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute a constant for adding to the squared speed at maximum acceleration.</p>
<p>The new squared speed after applying the FME can always be written in the form of</p>
<p class="formulaDsp">
\[ \lVert\mathbf{v}&#39;\rVert^2 = \lVert\mathbf{v}\rVert^2 + C(\lVert\mathbf{v}\rVert^2) \]
</p>
<p>where \(C\) is a function of the current squared speed in general. Though in the zeta and the 90 degrees cases, \(C\) is independent of the current squared speed.</p>
<p>This function provides a significant performance boost over <a class="el" href="strafelib_8hpp.html#af403663e3b75d00c895ea6ae7010083f">fme_maxaccel_speed()</a> by avoiding the need to compute the relatively expensive square root for the most common cases of zeta and 90 degrees, at the expense of needing a square root when computing the much less common linear and backward-linear cases. Since \(C\) is independent of the current speed in the zeta and 90 degrees cases, the value only needs to be computed once in those cases, assuming the caller is certain that the strafing type will never change. Subsequently, each iteration of the FME amounts only to a single addition of \(C\) to the current squared speed.</p>
<p>It is the responsibility of the user to use this function correctly. If you are unsure how to use this function, opt for the more straightforward <a class="el" href="strafelib_8hpp.html#af403663e3b75d00c895ea6ae7010083f">fme_maxaccel_speed()</a> instead. </p>

</div>
</div>
<a id="ae0a8e20096eeabb0303b26040d3775ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0a8e20096eeabb0303b26040d3775ba">&#9670;&nbsp;</a></span>fme_minaccel_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double fme_minaccel_speed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ke_tau_M_A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the speed after applying the FME at minimum acceleration. </p>

</div>
</div>
<a id="a90821166115cfa378f636b0ed5c6a84a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90821166115cfa378f636b0ed5c6a84a">&#9670;&nbsp;</a></span>fme_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double fme_speed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>costheta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ke_tau_M_A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the speed after applying the FME.</p>
<p>This function runs at constant time. </p>

</div>
</div>
<a id="a991ad6d0488062ce19b32b06c940c472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991ad6d0488062ce19b32b06c940c472">&#9670;&nbsp;</a></span>fme_vel_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fme_vel_theta </td>
          <td>(</td>
          <td class="paramtype">double *__restrict&#160;</td>
          <td class="paramname"><em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>costheta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sintheta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ke_tau_M_A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the velocity after applying the FME.</p>
<p>The caller is responsible of ensuring <code>costheta</code> and <code>sintheta</code> are consistent. <code>speed</code> must also match the 2D magnitude of <code>vel</code>. <code>vel</code> must have at least two elements.</p>
<p>The apparent redundancy of providing both <code>vel</code> and <code>speed</code> is to improve the efficiency. Under most situations, the user of this function needs to compute a square root to obtain the speed (the norm of velocity). This speed is needed by a function that computes \(\cos\theta\) and this function. To avoid computing the square root twice, we leave the responsibility to the caller. </p>

</div>
</div>
<a id="ab29d260cd4d50532c6b98d59e993f288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29d260cd4d50532c6b98d59e993f288">&#9670;&nbsp;</a></span>fric_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double fric_speed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tau_k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the speed after applying ground friction.</p>
<p>This function runs at constant time. The caller is responsible of computing <code>tau_k</code> correctly by considering the values of the entity friction and the edgefriction.</p>
<p>If you are working on squared speeds for performance reasons, use <a class="el" href="strafelib_8hpp.html#ad6fc61b71ff872e308f8a6b10fa1f882">fric_speedsq()</a> instead to avoid computing square roots for <code>speed</code> when the geometric friction is in effect. </p>

</div>
</div>
<a id="ad6fc61b71ff872e308f8a6b10fa1f882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6fc61b71ff872e308f8a6b10fa1f882">&#9670;&nbsp;</a></span>fric_speedsq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double fric_speedsq </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speedsq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tau_k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the squared speed after applying ground friction.</p>
<p>This function behaves similar to <a class="el" href="strafelib_8hpp.html#ab29d260cd4d50532c6b98d59e993f288">fric_speed()</a>, except it operates on the squared speed, making it more convenient to use if you are working on squared speeds for performance reasons (e.g. by relying on <a class="el" href="strafelib_8hpp.html#a53d4b9ddd8360ba2c93b9ed5a98dd8fa">fme_maxaccel_speed_C()</a>). Compared to <a class="el" href="strafelib_8hpp.html#ab29d260cd4d50532c6b98d59e993f288">fric_speed()</a>, this function appears to be less performant when viewed in isolation. However, if you are working on squared speeds, this function avoids computing the square root for the most common case of geometric friction. Computing the arithmetic friction requires a square root. </p>

</div>
</div>
<a id="a4b89291bba4c15feba3010e15958ebbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b89291bba4c15feba3010e15958ebbc">&#9670;&nbsp;</a></span>fric_vel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fric_vel </td>
          <td>(</td>
          <td class="paramtype">double *__restrict&#160;</td>
          <td class="paramname"><em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tau_k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the velocity after applying ground friction.</p>
<p><code>vel</code> must have at least two elements.</p>
<p>The caller is responsible of ensuring <code>speed</code> matches the 2D norm of <code>vel</code>. By giving you the responsibility of computing the speed, this function avoids computing any square roots. </p>

</div>
</div>
<a id="a1322ada9557ecd91fd1e8dee7e49d04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1322ada9557ecd91fd1e8dee7e49d04e">&#9670;&nbsp;</a></span>snark_hunt_vel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int N&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void snark_hunt_vel </td>
          <td>(</td>
          <td class="paramtype">double *__restrict&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *__restrict&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the hunting velocity of a snark.</p>
<p><code>dir</code> must be a unit vector. </p>

</div>
</div>
<a id="a87bc873ecf594b45e43a7edb3c239467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87bc873ecf594b45e43a7edb3c239467">&#9670;&nbsp;</a></span>tau_g_to_p()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double tau_g_to_p </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tau_g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the player frame time given the game frame time. </p>

</div>
</div>
<a id="a3a2af891d7cfeaa267a6e776d104e11c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a2af891d7cfeaa267a6e776d104e11c">&#9670;&nbsp;</a></span>water_vel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void water_vel </td>
          <td>(</td>
          <td class="paramtype">double *__restrict&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *__restrict&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>geomfric</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ke_tau_M_A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the player velocity after one frame of water movement.</p>
<p>All vectors are in 3D. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
